<div class="aw-onestep-sidebar-block payment-option _collapsible opc-payment-additional aw-giftcard-code"
     data-role="aw-async-collapsible">
    <div class="payment-option-title field choice" data-role="title">
        <span class="action action-toggle" id="block-aw-giftcard-heading" role="heading" aria-level="2">
            <span data-bind="i18n: 'Use Gift Card'"></span>
        </span>
    </div>
    <div class="payment-option-content" data-role="content">
        <each args="getRegion('messages')" render=""></each>
        <if args="isCustomerGiftcardCodesDisplayed()">
            <div class="block aw-giftcard-codes-block" data-bind="blockLoader: isLoadingCustomerGiftcardsBlock()">
                <div class="block-title">
                    <span data-bind="i18n: 'Your Gift Card codes'"></span>
                </div>
                <div class="block-content">
                    <div class="box">
                        <div class="box-content">
                            <div repeat="foreach: getCustomerGiftcardCodes(), item: '$giftcard'" class="giftcard-code_row-item">
                                <span class="code">
                                    <text args="$giftcard().code"></text>
                                </span>
                                <span class="balance">
                                    <text args="formatPrice($giftcard().balance)"></text>
                                </span>
                                <a class="action-apply"
                                   href="#"
                                   data-bind="attr: {'title': $t('Apply')},
                                        click: applyByCode.bind($data, $giftcard().code),
                                        i18n: 'Apply'"></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </if>
        <form class="form form-aw-giftcard" id="aw-giftcard-form">
            <div class="payment-option-inner">
                <div class="field">
                    <div class="control">
                        <input class="input-text"
                               type="text"
                               id="giftcard_code"
                               name="giftcard_code"
                               data-validate="{'required-entry':true}"
                               data-bind="value: giftcardCode,
                                    attr:{placeholder: $t('Enter Gift Card code')},
                                    mageInit: {'awOscValidationMock':{}}" />
                    </div>
                </div>
            </div>
            <div class="actions-toolbar">
                <div class="primary">
                    <button class="action action-apply primary" type="submit" data-bind="'value': $t('Apply'), click: apply">
                        <span data-bind="i18n: 'Apply'"></span>
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
